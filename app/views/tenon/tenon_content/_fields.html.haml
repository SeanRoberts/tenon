.input-block.tn-tc{class: field}
  %label.input-block__explanation
    - if defined?(lang)
      = field.gsub("_#{lang}", '').to_s.titleize
      (#{lang_title})
    - else
      = field.to_s.titleize

  .input-block__explanation
    Select rows from the library to build this section.
    You can format your text by highlighting it and selecting options from the pop-up menu.

  .tn-tc-main-actions
    / = link_to '#', class: 'tn-tc-pop-out btn btn-primary' do
    /   = i('visibility')
    /   %span Edit in Preview Mode

    = link_to '#', class: 'tn-tc-add-content btn initial-row', data: { modal_target: ".tn-tc-library", modal_closest: '.tn-tc', modal_clone: 'true', modal_title: 'Add Content', modal_handler: 'Tenon.features.tenonContent.Library' }, title: 'Add Content' do
      Add Content

  .tn-tc-wrap
    .tn-tc-sizes
      %h4 Preview Mode
      .explanation
        Use preview mode to see how your content will look on different devices.  You can still make edits when you're in preview mode, but the toolbars are hidden to give you a better picture of how your content will be laid out.
      = tenon_content_sizes
      = link_to 'Done', '#', class: 'tn-tc-pop-out-close btn btn-comp'
    .tenon-content
      = f.fields_for "#{field}_tenon_content_rows" do |row|
        - if row.object
          = render "tenon/tenon_content/row", f: row, row_partial: row.object.decorate.form_partial, field: field, title: row.object.row_type.titleize

    %div{style: 'display: none'}
      .tn-tc-library
        %ul.tn-tc-library__list
          - Tenon::TenonContent::RowTypes::LIBRARY_ROW_TYPES.each do |title, row_type|
            %li.tn-tc-library__item= row_link(title, row_type, field, f)
        .spacer
